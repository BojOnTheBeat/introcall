<head>
    <title>introcall</title>
    <link rel="stylesheet" type="text/css" href="/semantic-dist/semantic.min.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="/semantic-dist/semantic.min.js"></script>
    <script type="text/javascript" src="//cdn.timekit.io/booking-js/v1/booking.min.js" defer></script>

    <style type="text/css">
    .hidden.menu {
        display: none;
    }

    .masthead.segment {
        min-height: 700px;
        padding: 1em 0em;
    }

    .masthead .logo.item img {
        margin-right: 1em;
    }

    .masthead .ui.menu .ui.button {
        margin-left: 0.5em;
    }

    .masthead h1.ui.header {
        margin-top: 3em;
        margin-bottom: 0em;
        font-size: 4em;
        font-weight: normal;
    }

    .masthead h2 {
        font-size: 1.7em;
        font-weight: normal;
    }

    .ui.vertical.stripe {
        padding: 8em 0em;
    }

    .ui.vertical.stripe h3 {
        font-size: 2em;
    }

    .ui.vertical.stripe .button+h3,
    .ui.vertical.stripe p+h3 {
        margin-top: 3em;
    }

    .ui.vertical.stripe .floated.image {
        clear: both;
    }

    .ui.vertical.stripe p {
        font-size: 1.33em;
    }

    .ui.vertical.stripe .horizontal.divider {
        margin: 3em 0em;
    }

    .quote.stripe.segment {
        padding: 0em;
    }

    .quote.stripe.segment .grid .column {
        padding-top: 5em;
        padding-bottom: 5em;
    }

    .footer.segment {
        padding: 5em 0em;
    }

    .secondary.pointing.menu .toc.item {
        display: none;
    }

    @media only screen and (max-width: 700px) {
        .ui.fixed.menu {
            display: none !important;
        }
        .secondary.pointing.menu .item,
        .secondary.pointing.menu .menu {
            display: none;
        }
        .secondary.pointing.menu .toc.item {
            display: block;
        }
        .masthead.segment {
            min-height: 350px;
        }
        .masthead h1.ui.header {
            font-size: 2em;
            margin-top: 1.5em;
        }
        .masthead h2 {
            margin-top: 0.5em;
            font-size: 1.5em;
        }
    }

    </style>
    <script>


    </script>
</head>

<template name="main">

    <!-- Page Contents -->
    <div class="pusher">
        <div class="ui inverted vertical center aligned segment">
            {{> navigation}}
        </div>

        <div class="ui vertical stripe segment container">
            {{ > yield}}
        </div>

        <div class="ui inverted vertical footer segment">
            <div class="ui container">
                <div class="ui stackable inverted divided equal height stackable grid">
                    <div class="three wide column">
                        <h4 class="ui inverted header">About</h4>
                        <div class="ui inverted link list">
                            <a href="#" class="item">Sitemap</a>
                            <a href="#" class="item">Contact Us</a>
                            <a href="#" class="item">Religious Ceremonies</a>
                            <a href="#" class="item">Gazebo Plans</a>
                        </div>
                    </div>
                    <div class="three wide column">
                        <h4 class="ui inverted header">Services</h4>
                        <div class="ui inverted link list">
                            <a href="#" class="item">Banana Pre-Order</a>
                            <a href="#" class="item">DNA FAQ</a>
                            <a href="#" class="item">How To Access</a>
                            <a href="#" class="item">Favorite X-Men</a>
                        </div>
                    </div>
                    <div class="seven wide column">
                        <h4 class="ui inverted header">Footer Header</h4>
                        <p>Extra space for a call to action inside the footer that could help re-engage users.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="home">

    <!-- Page Contents -->
    <div class="pusher">
        <div class="ui inverted vertical masthead center aligned segment">

            {{> navigation}}

            <div class="ui text container">
                <h1 class="ui inverted header">
                    Introcall
                </h1>
                <h2>Talk to a human.â„¢</h2>
                <div class="ui huge primary button">Set up a call today <i class="right arrow icon"></i></div>
            </div>

        </div>

        <div class="ui vertical stripe segment container">
            <h2>Search for Profiles</h2>

            <div class="ui grid">
                <div class="six wide column">
                    <select id="kfilter" class="ui fluid search dropdown" multiple="" onchange="Session.set('kfilter', $(this).val())">

                        <option value="">filter by keywords</option>
                        {{#each k in keywords}}
                            <option value="{{k.word}}">{{k.word}}</option>
                        {{/each}}
                    </select>
                </div>
            </div>

            <div class="ui special cards">
                {{#each cp in cprofiles}}
                    <div class="card">
                        <div class="blurring dimmable image">
                            <div class="ui dimmer">
                                <div class="content">
                                    <div class="center">
                                        <a class="ui inverted button" href="/joincall/{{cp.userId}}">Set up a call</a>
                                    </div>
                                </div>
                            </div>
                            <img src="{{cp.avatarUrl}}">
                        </div>
                        <div class="content">
                            <a class="header">{{cp.name}}</a>
                            <div class="meta">
                                <span class="date"><i class="world icon"></i> {{cp.currentLocation}}</span>
                            </div>
                            <div class="description">
                                <div class="keywords">{{cp.keywords}}</div>
                                {{cp.description}}
                            </div>
                        </div>
                        <div class="extra content">
                            <a class="ui labeled button" href="/meet/{{cp.userId}}">
                                <div class="ui red button">
                                    <i class="phone icon"></i> Set up a call
                                </div>
                                <a class="ui basic red left pointing label">
                                    1,048
                                </a>
                            </a>
                        </div>
                    </div>
                {{/each}}
            </div>

        </div>

        <div class="ui inverted vertical footer segment">
            <div class="ui container">
                <div class="ui stackable inverted divided equal height stackable grid">
                    <div class="three wide column">
                        <h4 class="ui inverted header">About</h4>
                        <div class="ui inverted link list">
                            <a href="#" class="item">Sitemap</a>
                            <a href="#" class="item">Contact Us</a>
                            <a href="#" class="item">Religious Ceremonies</a>
                            <a href="#" class="item">Gazebo Plans</a>
                        </div>
                    </div>
                    <div class="three wide column">
                        <h4 class="ui inverted header">Services</h4>
                        <div class="ui inverted link list">
                            <a href="#" class="item">Banana Pre-Order</a>
                            <a href="#" class="item">DNA FAQ</a>
                            <a href="#" class="item">How To Access</a>
                            <a href="#" class="item">Favorite X-Men</a>
                        </div>
                    </div>
                    <div class="seven wide column">
                        <h4 class="ui inverted header">Footer Header</h4>
                        <p>Extra space for a call to action inside the footer that could help re-engage users.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</template>

<template name="meet">
    <h1>{{curProfile.name}}, let's get a meeting set up with {{otherUser.name}}.</h1>
    <div id="bookingjs">
    </div>
</template>

<template name="joincall">
    <iframe src="https://appear.in/introcall.io-sandbox" width="800" height="640" frameborder="0"></iframe>
    <div class="container">
        <div class="row">
            <div class="messages-container">
                <div class="messages">
                    {{#if messages}}
                        {{#each messages}}
                            <p>
                                <span class="name">{{getName owner}}</span>
                                >
                                {{message}}
                                <span class="timestamp">&ndash;{{timestamp}}</span> 
                            </p>
                        {{/each}}
                    {{/if}}
                </div>
                <!-- <ul class="user-list">
                    {{"{{#if roomusers"}}}}
                        {{"{{#each roomusers"}}}}
                            {{"{{#if away"}}}}
                            <li class="away">{{"{{user"}}}} <span>&ndash; away</span></li>
                            {{"{{else"}}}}
                            <li>{{"{{user"}}}}</li>
                            {{"{{/if"}}}}
                        {{"{{/each"}}}}
                    {{"{{/if"}}}}
                </ul> -->
            </div>
        </div>
        <div class="row">
            <div class="add-message">
                <p class="pull-left">
                    Logged in as: <b>{{currentProfile.name}}</b>
                </p>
                <p class="pull-right">
                    <input type="checkbox" class="away-toggle" />
                    <label>Set away</label>
                </p>
                <div class="form-group">
                    <textarea class="form-control message" name="content" cols="100" placeholder="Write a message"></textarea>
                </div>
                <div class="form-group clearfix">
                    <input type="submit" id="sendmessage" style="margin-left: 10px;" value="Send message" />

                    <!-- <a href="{{pathFor 'rooms'}}" class="btn btn-danger pull-right">Disconnect</a> -->
                </div>
            </div>
        </div>
    </div>

</template>

<template name="register">

    <h2>Sign Up</h2>
    <form class="register">
        <p>Email:
            <input type="email" name="email">
        </p>
        <p>Password:
            <input type="password" name="password">
        </p>
        <p>
            <input type="submit" value="Register">
        </p>
    </form>
</template>

<template name="login">
    <h2>Login</h2>
    <form class="login">
        <p>Email:
            <input type="email" name="email">
        </p>
        <p>Password:
            <input type="password" name="password">
        </p>
        <p>
            <input type="submit" value="Login">
        </p>
    </form>
</template>

<template name="profile">
    {{#if currentUser}}
        <h2>Profile</h2>

        <form class="profile">
            <p>Name:
                <input type="text" name="name" value= {{formData.name}}>
            </p>
            <p>Email:
                <input type="email" name="email" value= {{formData.email}}>
            </p>
            <p>CurrentLocation:
                <input type="text" name="currentLocation" value= {{formData.currentLocation}}>
            </p>
            <p>timezone:
                <input type="text" name="timezone">
            </p>
            <p>phoneNumber:
                <input type="text" name="phoneNumber" value= {{formData.phoneNumber}}>
            </p>

            <p>
                <input type="submit" value="Submit">
            </p>
        </form>
    {{else}}
        <a class="ui inverted button" href="{{pathFor route='login'}}">Log in</a>
        <a class="ui inverted button" href="{{pathFor route='register'}}">Sign Up</a>
    {{/if}}

</template>


    

<template name="navigation">
    <div class="ui container">
        <div class="ui large secondary inverted pointing menu">
            <a class="toc item">
                <i class="sidebar icon"></i>
            </a>
            <a class="active item" href="{{pathFor route='home'}}">Home</a>
            <a class="item">Work</a>
            <a class="item">Company</a>
            <a class="item">Careers</a>
            <div class="right item">
                {{#if currentUser}}
                    <span>
                        <div class="ui inline dropdown">
                            
                            <div class="text">
                            <img class="ui avatar image" src="https://semantic-ui.com/images/avatar/small/jenny.jpg">
                            My Profiles

                            </div>
                            <i class="dropdown icon"></i>
                            <div class="menu">

                            {{#each cp in profiles}}
                                <div class="item">
                                    <img class="ui avatar image" src= {{cp.avatarUrl}} >
                                    {{cp.displayName}}
                                </div>
                            {{/each}}

                            
                            <div class="item">
                                <i class="add user icon"></i>
                                Add a Profile
                            </div>
                            <a class="item" href="{{pathFor route='profile'}}">
                                <i class="edit icon"></i>
                                Edit My Contact Profile
                            </a>
                            </div>
                        </div>
                    </span>
                    <a class="ui inverted button logout">Logout</a>
                {{else}}
                    <a class="ui inverted button" href="{{pathFor route='login'}}">Log in</a>
                    <a class="ui inverted button" href="{{pathFor route='register'}}">Sign Up</a>
                {{/if}}
            </div>
        </div>
    </div>
</template>
